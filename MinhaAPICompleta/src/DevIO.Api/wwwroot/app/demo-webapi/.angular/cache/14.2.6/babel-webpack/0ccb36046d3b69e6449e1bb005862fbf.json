{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nexport class BaseService {\n  constructor() {\n    this.UrlServiceV1 = \"https://localhost:5001/api/v1/\";\n  } //protected UrlServiceV1: string = \"http://localhost:36787/api/\";\n  //protected UrlServiceV1: string = \"https://localhost:44320/api/v1/\";\n  //protected UrlServiceV1: string = \"https://devioapi.azurewebsites.net/api/v1/\";\n\n\n  ObterHeaderFormData() {\n    return {\n      headers: new HttpHeaders({\n        'Content-Disposition': 'form-data; name=\"produto\"',\n        'Authorization': `Bearer ${this.obterTokenUsuario()}`\n      })\n    };\n  }\n\n  ObterHeaderJson() {\n    return {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      })\n    };\n  }\n\n  ObterAuthHeaderJson() {\n    return {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.obterTokenUsuario()}`\n      })\n    };\n  }\n\n  extractData(response) {\n    return response.data || {};\n  }\n\n  obterUsuario() {\n    return JSON.parse(localStorage.getItem('app.user'));\n  }\n\n  obterTokenUsuario() {\n    return localStorage.getItem('app.token');\n  }\n\n  serviceError(error) {\n    let errMsg;\n\n    if (error instanceof Response) {\n      errMsg = `${error.status} - ${error.statusText || ''}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n\n    console.error(errMsg);\n    return throwError(errMsg);\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}